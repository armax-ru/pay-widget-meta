# ArMax Pay Widget
Виджет платежной формы для встраивания в веб-страницу.

## Поддержка
Вопросы по работе и поддерже **сервисов ArMax** можно задать по адресу [support@armax.ru](mailto:support@armax.ru)
Вопросы по настройке, работе и установке платежного виджета можно задать в [Issues](https://github.com/armax-ru/pay-widget-meta/issues) данного репозитория.

## Содержание
* [Настройка веб-терминала](#Настройка-веб-терминала)
  * [Настройка способов оплаты](#Настройка-способов-оплаты)
* [Интеграция в веб-страницу](#Интеграция-в-веб-страницу)
  * [Простая установка](#Простая-установка)
  * [Ручная инициализация](#Ручная-инициализация)

## Установка
Для установки необходимо [создать и/или настроить](#Настройка-веб-терминала) терминал типа **"Web-терминал"** и подключить JS файл для отображения виджета.

###  Настройка веб-терминала
1. В кабинете агента ArMax создать терминал типа **"Web-терминал"**.
2. Заполнить поля во вкладке **"Основные настройки"**
3. Во вкладке **"Профили"** настроить профили отоборажения и комиссии.

#### Настройка способов оплаты
Для настройки способов оплаты, в одноименной вкладке терминала типа **"Web-терминал"** 
необходино:
1. Создать новый ключ оплаты терминала (кнопка "Создать ключ")
2. Ввести название будущего ключа и выбрать платежную систему.
3. Настроить выбранную платежную систему

На данный момент, для подключения в платежной форме доступны следующие способы оплаты:
 * [Яндекс.Касса](/payment-methods/yandex.md)
 * [Payler](/payment-methods/payler.md)
 * WebMoney (coming soon...)


### Интеграция в веб-страницу
Установить виджет на веб-страницу можно двумя способами - простой вставкой HTML кода или ручной инициализацией виджета.

#### Простая установка
Разместите данный код в нужном месте HTML страницы:
```html
<script
  data-terminal-id="00000"
  type="text/javascript"
  src="https://payframe.armax.ru/widget/armax-pay-widget-loader.min.js" async>
</script>
```
У созданного веб-терминала из пункта [Настройка веб-терминала](#Настройка-веб-терминала) определите ID терминала (колонка ID в общем списке терминалов или поле "Серийный номер" в настройках конкретного терминала).

Замените `00000` в значении аттрибута `data-terminal-id` на ID терминала.

Пример автоматической установки в [examples/auto-setup.html](/examples/auto-setup.html)

#### Ручная инициализация

Для инициализации виджета на странице необходимо подключить npm-пакет [`@armax-ru/pay-widget`](https://github.com/armax-ru/pay-widget) и вызвать функцию-конструктор `ArmaxPayWidget`:

```js
new ArmaxPayWidget ({
  container: document.getElementById('pay-widget-container'),
  terminalId: 00000
});
```
Пример ручной инциализации виджета в [examples/manual-setup.html](/examples/manual-setup.html)
Более подробную информацию по использованию этого метода можно найти в репозитории npm-пакета [`@armax-ru/pay-widget`](https://github.com/armax-ru/pay-widget)
